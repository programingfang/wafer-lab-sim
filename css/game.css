.layout { display:grid; grid-template-columns:1.2fr 2fr; gap:16px; padding:16px; max-width:1200px; margin:0 auto; }
.block { border:0px solid #e5e7eb; background:#fff; border-radius:12px; padding:12px; margin-bottom:14px; }
.block h2 { margin:0 0 8px; font-size:16px; color:#374151; }

.pool { min-height:210px; border:2px dashed #d3dae5; border-radius:12px; padding:10px; display:flex; gap:10px; flex-wrap:wrap; align-content:flex-start; background:#fafafa; }
.card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:8px; cursor:grab; user-select:none; }
.card.img { width:160px; height:108px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.card.img img { width:100%; height:100%; object-fit:contain; display:block; }
.card.text { padding:10px 12px; font-weight:800; }

.right { border:1px solid #e5e7eb; background:#fff; border-radius:12px; padding:12px; }
.flow-row { display:grid; grid-template-columns:1fr auto 1fr auto 1fr; column-gap:12px; align-items:center; }
.arrow { font-size:26px; color:#9ca3af; text-align:center; }
.flow-col { display:grid; grid-template-rows:120px 48px; row-gap:8px; }
.target { border:2px dashed #111; border-radius:10px; background:#fdfdfd; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.target.img { min-height:120px; }
.target.text { font-weight:800; }
.target.filled { border-style:solid; background:#fff; }

.actions-row { margin-top:12px; display:flex; gap:10px; justify-content:flex-end; }

/* 右下 figure 一分為二：左氣泡右教練 */
.figure-row { display:grid; grid-template-columns: 1.6fr 1fr; gap:16px; align-items:center; min-height:220px; }
.figure-img { display:flex; align-items:center; justify-content:center; }
.figure-img img { width:100%; height:100%; max-height:360px; object-fit:contain; }

/* 對話框（箭頭在右側） */
.bubble-right { position:relative; border:2px solid #f97b3c; border-radius:16px; padding:14px 18px; min-height:120px; display:flex; align-items:center; }
.bubble-right::before { content:""; position:absolute; right:-12px; top:50%; transform:translateY(-50%); width:0; height:0; border-top:10px solid transparent; border-bottom:10px solid transparent; border-left:12px solid #f97b3c; }
.bubble-right::after  { content:""; position:absolute; right:-9px;  top:50%; transform:translateY(-50%); width:0; height:0; border-top:8px solid transparent;  border-bottom:8px solid transparent;  border-left:10px solid #fff; }

.overlay { position:fixed; inset:0; background:rgba(0,0,0,.55); display:flex; align-items:center; justify-content:center; padding:16px; }
.overlay.hidden { display:none; }
.overlay-inner { background:#fff; border-radius:12px; padding:16px; min-width:300px; text-align:center; }
.result-text { font-size:20px; margin:0 0 12px; }
.row.gap { display:flex; gap:10px; justify-content:center; }

.prompt-wrap { padding:8px 16px 0; }
.big-prompt { font-size:28px; font-weight:800; letter-spacing:.5px; color:#111827; text-align:center; margin:8px auto; }

@media (max-width:1100px){
  .layout { grid-template-columns:1fr; }
  .flow-row { grid-template-columns:1fr; row-gap:12px; }
  .arrow { display:none; }
  .figure-row { grid-template-columns:1fr; }
}

/* 逐組判定列表 */
.judge-list { 
  list-style: none; 
  padding: 0; 
  margin: 6px 0 14px; 
  display: grid; 
  gap: 6px;
}
.judge-list li {
  font-weight: 700;
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
}
.judge-list li.ok {
  color: #065f46;              /* 深綠字 */
  background: #ecfdf5;         /* 淡綠底 */
  border-color: #a7f3d0;
}
.judge-list li.ng {
  color: #7f1d1d;              /* 深紅字 */
  background: #fef2f2;         /* 淡紅底 */
  border-color: #fecaca;
}